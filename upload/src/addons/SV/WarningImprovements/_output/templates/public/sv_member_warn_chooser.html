<link rel="stylesheet" href="styles/chosen/chosen.min.css" />

<xf:css src="sv_member_warn_chooser.less" />

<xf:js addon="SV/WarningImprovements" src="sv/chosen/chosen.jquery.js" min="1" /><xf:comment>missing?</xf:comment>
<xf:js addon="SV/WarningImprovements" src="sv/warningimprovements/warnings.js" min="1" />

<div id="warningViewSelect" class="JsOnly" style="display: none;">
	<xf:formrow label="{{ phrase('warning_type') }}">
		<xf:select name="warning_definition_id" value="{$xf.visitor.style_id}" label="{{ phrase('style') }}" class="warningItems WarningSelector"
				   data-no-results-text="{{ phrase('sv_no_results_match') }}"
				   data-place-holder-text="{{ phrase('sv_choose_a_warning') }}">
			<xf:option value=""></xf:option>
			<xf:optgroup label="{$warningCategory.title}">
				<xf:foreach loop="$warningCategory.warnings" value="$warning">
					<xf:option class="warningDefinition" value="{$warning.warning_definition_id}">{$warning.title}</xf:option>
				</xf:foreach>
			</xf:optgroup>
		</xf:select>
	</xf:formrow>
	
	<xf:textboxrow name="title" label="{{ phrase('custom_warning') }}" />
</div>

<div id="warningViewRadio">
	<xf:foreach loop="$rootWarningCategories" value="$rootWarningCategory">
		<dl class="ctrlUnit">
			<dt class="warningCategory">{$rootWarningCategory.title}:</dt>

			<dd>
				<ul class="warningItems">
					<xf:foreach loop="$rootWarningCategory.children" value="$warningItem">
						<xf:if is="{$warningItem.warning_category_id}">
							<li class="warningCategory _depth{$warningItem.depth}">{$warningItem.title}</li>
						<xf:else />
							<xf:if is="{$warningItem.warning_definition_id} != 0">
								<li class="warningDefinition _depth{$warningItem.depth}"><label><input type="radio" name="warning_definition_id" id="warning_{$warningItem.warning_definition_id}" class="FormFiller {xen:if '{$warningItem.sv_custom_title}', 'Disabler', ''}" value="{$warningItem.warning_definition_id}" {xen:if {$warning.sv_custom_title}, 'data-custom-title="1"', ''}/> {$warningItem.title}</label>
								<xf:if is="{$warningItem.sv_custom_title}">
									<ul id="warning_{$warningItem.warning_definition_id}_Disabler">
										<li><input type="text" name="title" class="textCtrl" value="{$warningItem.title}" maxlength="255" /></li>
									</ul>
								</xf:if>
								</li>
							<xf:else />
								<li class="warningDefinition _depth{$warningItem.depth}"><label><input type="radio" name="warning_definition_id" class="FormFiller Disabler" value="0" id="customWarning" checked="checked" /> {{ phrase('custom_warning') }}:</label>
									<ul id="customWarning_Disabler">
										<li><input type="text" name="title" class="textCtrl" placeholder="{{ phrase('custom_warning') }}..." maxlength="255" /></li>
									</ul>
								</li>
							</xf:if>
						</xf:if>
					</xf:foreach>
				</ul>
			</dd>
		</dl>
	</xf:foreach>
</div>

<a id="warningViewToggle" class="WarningViewToggler JsOnly" href="#"
	data-selectview="#warningViewSelect"
	data-radioview="#warningViewRadio"
	data-toggleselecttext="{{ phrase('sv_toggle_select_view') }}"
	data-toggleradiotext="{{ phrase('sv_toggle_radio_view') }}"></a>